<html>
<head>
    <meta charset="utf-8">
	<!-- development version, includes helpful console warnings -->
	<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
	<link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/10.2.0/css/bootstrap-slider.min.css" rel="stylesheet">

    <title> My title</title>
</head>

<body>
    <div id="test">
		Ingrese su nombre: <br>
		<input v-model="username"> <button v-on:click="changeName('XXX')">Default User</button>
        <p>Hola Mundo!!!  {{ username }}</p>   		
		<ul>
            <li v-for="product in products">
                {{product}}
            </li>
        </ul>			
		<table class="table table-hover">
					<thead>
						<tr>
							<th>Nombre</th>
							<th>Stock</th>
							<th>Acci√≥n</th>
						</tr>
					</thead>
					<tbody>
						<tr v-for="product in products">
							<td >{{product.name}}</td>
							<td> <input type="number" v-model.number="product.quantity"/> </td>
							<td> <button @click="product.quantity +=1">+</button>
								 <button @click="product.quantity -=1">-</button></td>
						</tr>
					</tbody>
				</table>
		 <h2> Total: {{ totalProducts }} </h2>
    </div>
		
  
    <script>

        test = new Vue({ 
            el: '#test',  
            data: {    
                username: "" ,
				products:[]
            },
            methods: {    
                changeName: function(name){
                    this.username=name;    
                },
				defaultUser: function(){
                    this.username="Tu nombre";    
                }
            },
			created(){
                fetch('http://api.myjson.com/bins/74l63')
                .then(response => response.json())
                .then(json => {
                    this.products = json.products
                })
            },
            computed: {
                totalProducts() {
                    return this.products.reduce((sum,product) =>{
                        return sum + product.quantity
                    },0)
                }
            }
        });
		
    </script>
</body>

</html>